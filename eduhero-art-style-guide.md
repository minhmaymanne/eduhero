# ğŸ¨ EduHero Art Style Guide
## Tá»± táº¡o bá»™ Assets â€” Cartoon Chibi Â· Smooth Vector 2D

> **Target style**: Archero / Angry Birds / Brawl Stars
> **Keywords**: Smooth edges, bold colors, vector-like, oversized head, expressive, mobile-friendly
> **KHÃ”NG pháº£i pixel art** â€” Táº¥t cáº£ asset dÃ¹ng Ä‘Æ°á»ng cong mÆ°á»£t, gradient má»m, outline rÃµ rÃ ng

---

## 1. Äá»‹nh nghÄ©a Art Style

### 1.1 Äáº·c trÆ°ng chÃ­nh

| Yáº¿u tá»‘ | MÃ´ táº£ |
|---|---|
| **Tá»‰ lá»‡ cÆ¡ thá»ƒ** | Chibi 2.5-3 head ratio (Ä‘áº§u chiáº¿m 35-40% chiá»u cao) |
| **ÄÆ°á»ng nÃ©t** | Smooth curves, khÃ´ng cÃ³ gÃ³c cáº¡nh sáº¯c. Outline Ä‘áº­m 2-3px |
| **MÃ u sáº¯c** | Bold, saturated, flat color + 1 bÆ°á»›c shadow Ä‘Æ¡n giáº£n |
| **Shading** | Cel-shading 2-tone (base + shadow), khÃ´ng gradient phá»©c táº¡p |
| **Biá»ƒu cáº£m** | Máº¯t to, Ä‘Æ¡n giáº£n, rÃµ emotion ngay cáº£ á»Ÿ size 48-64px |
| **Readability** | Silhouette rÃµ rÃ ng â€” nhÃ¬n shadow cÅ©ng nháº­n ra nhÃ¢n váº­t |

### 1.2 So sÃ¡nh vá»›i cÃ¡c style khÃ¡c

```
âŒ Pixel Art       â†’ Ã” vuÃ´ng rÃµ rÃ ng, limited palette, nostalgic
âŒ Realistic       â†’ Tá»‰ lá»‡ thá»±c, chi tiáº¿t cao, shading phá»©c táº¡p
âŒ Anime           â†’ Tá»‰ lá»‡ dÃ i, máº¯t siÃªu to kiá»ƒu manga
âœ… Cartoon Chibi   â†’ Tá»‰ lá»‡ ngáº¯n, Ä‘Æ°á»ng cong má»m, bold & playful
```

### 1.3 Reference Games

- **Archero**: Hero chibi, enemy Ä‘Æ¡n giáº£n, mÃ u sáº¯c rá»±c, hiá»‡u á»©ng sÃ¡ng
- **Brawl Stars**: Tá»‰ lá»‡ chibi máº¡nh, outline Ä‘en dÃ y, palette áº¥m
- **Angry Birds**: HÃ¬nh dáº¡ng Ä‘Æ¡n giáº£n, biá»ƒu cáº£m cá»±c rÃµ, vector-clean
- **Among Us**: Chá»©ng minh ráº±ng shape Ä‘Æ¡n giáº£n + palette tá»‘t = iconic
- **Clash Royale**: Chibi warriors, cel-shade, silhouette cá»±c rÃµ

---

## 2. Anatomy â€” Tá»‰ lá»‡ cÆ¡ thá»ƒ Chibi

### 2.1 Hero Character (64Ã—64px canvas)

```
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚   HEAD   â”‚  â† 40% height, chiáº¿m gáº§n ná»­a sprite
        â”‚  â—‹    â—‹  â”‚     TrÃ²n hoáº·c oval, khÃ´ng vuÃ´ng
        â”‚    â–½     â”‚     Máº¯t to, miá»‡ng nhá»
        â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
             â”‚
        â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
        â”‚   BODY   â”‚  â† 35% height, nhá» hÆ¡n Ä‘áº§u
        â”‚ â”Œâ”€â”€â”â”Œâ”€â”€â” â”‚     Vai háº¹p, thÃ¢n ngáº¯n
        â”‚ â”‚  â”‚â”‚  â”‚ â”‚     Tay ngáº¯n, Ä‘Æ¡n giáº£n
        â””â”€â”˜  â””â”˜  â””â”€â”˜
          â”Œâ”€â”€â”â”Œâ”€â”€â”
          â”‚  â”‚â”‚  â”‚     â† 25% height, chÃ¢n ngáº¯n trÃ²n
          â””â”€â”€â”˜â””â”€â”€â”˜        KhÃ´ng cáº§n bÃ n chÃ¢n chi tiáº¿t
```

### 2.2 Quy táº¯c vÃ ng

1. **Head â‰¥ Body**: Äáº§u luÃ´n báº±ng hoáº·c lá»›n hÆ¡n thÃ¢n
2. **No neck**: Äáº§u ná»‘i tháº³ng vÃ o thÃ¢n, hoáº·c cá»• ráº¥t ngáº¯n
3. **Stubby limbs**: Tay chÃ¢n ngáº¯n, trÃ²n Ä‘áº§u, khÃ´ng cÃ³ khá»›p rÃµ
4. **Big eyes, small mouth**: Máº¯t chiáº¿m 30-40% máº·t, miá»‡ng chá»‰ lÃ  1 nÃ©t
5. **Oversized props**: VÅ© khÃ­, mÅ©, phá»¥ kiá»‡n to quÃ¡ khá»• so vá»›i thÃ¢n

### 2.3 KÃ­ch thÆ°á»›c Ä‘á» xuáº¥t cho EduHero

| Asset | Canvas Size | Display Size | LÃ½ do |
|---|---|---|---|
| Hero | 128Ã—128 | 64Ã—64 | Váº½ @2x rá»“i scale down â†’ sáº¯c nÃ©t |
| Enemy nhá» | 96Ã—96 | 48Ã—48 | Äá»§ detail cho slime, bat |
| Enemy lá»›n/Boss | 160Ã—160 | 72-80Ã—80 | Cáº§n thÃªm chi tiáº¿t |
| Item/Drop | 64Ã—64 | 24-32Ã—32 | ÄÆ¡n giáº£n, nháº­n dáº¡ng nhanh |
| Projectile | 32Ã—32 | 16-20Ã—20 | Nhá», glow effect phá»¥ trá»£ |
| Obstacle | 96Ã—96 | 48-64Ã—64 | TÆ°Æ¡ng Ä‘Æ°Æ¡ng enemy size |
| Decoration | 32-64 | 16-32 | Ambient, khÃ´ng cáº§n sáº¯c |

---

## 3. Color Theory â€” Palette System

### 3.1 NguyÃªn táº¯c chung

**Bold + Readable á»Ÿ mobile size**. Má»—i entity cáº§n palette 4-6 mÃ u:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  BASE        â†’ MÃ u chÃ­nh, chiáº¿m 60% diá»‡n tÃ­ch  â”‚
â”‚  SHADOW      â†’ Base tá»‘i hÆ¡n 20-30%, 25% area    â”‚
â”‚  HIGHLIGHT   â†’ Base sÃ¡ng hÆ¡n 15-20%, 10% area   â”‚
â”‚  ACCENT      â†’ MÃ u tÆ°Æ¡ng pháº£n, Ä‘iá»ƒm nháº¥n nhá»    â”‚
â”‚  OUTLINE     â†’ Äáº­m hÆ¡n shadow, hoáº·c Ä‘en má»m     â”‚
â”‚  SKIN/DETAIL â†’ Cho máº·t, tay (náº¿u cÃ³)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 CÃ¡ch chá»n Shadow/Highlight

**KHÃ”NG Ä‘Æ¡n giáº£n lÃ  thÃªm Ä‘en/tráº¯ng**. Shift hue khi tá»‘i/sÃ¡ng:

```
Shadow  = Base - Brightness(20%) + Hue shift warm(+10Â°) + Saturation(+10%)
Highlight = Base + Brightness(15%) + Hue shift cool(-5Â°) + Saturation(-5%)
```

VÃ­ dá»¥ vá»›i mÃ u xanh lÃ¡:
```
Highlight : #6BCB5F  (sÃ¡ng hÆ¡n, hÆ¡i vÃ ng)
Base      : #4CAF50  (green gá»‘c)
Shadow    : #2E7D32  (tá»‘i hÆ¡n, hÆ¡i teal)
Outline   : #1B5E20  (ráº¥t tá»‘i, gáº§n Ä‘en-lÃ¡)
```

### 3.3 Palette máº«u cho EduHero

#### Heroes

```
ğŸ§Š Frost Knight
   Primary   #4F46E5 â†’ #3730A3 (shadow) â†’ #6366F1 (highlight)
   Armor     #3B82F6 â†’ #1D4ED8 â†’ #60A5FA
   Accent    #EF4444 (cape)
   Skin      #FFCFAA â†’ #F0B088

ğŸ”¥ Fire Knight
   Primary   #EF4444 â†’ #B91C1C â†’ #F87171
   Armor     #F59E0B â†’ #D97706 â†’ #FBBF24
   Accent    #1E293B (dark trim)
   Skin      #FFCFAA â†’ #F0B088

ğŸŒ¿ Nature Knight
   Primary   #22C55E â†’ #15803D â†’ #4ADE80
   Armor     #84CC16 â†’ #4D7C0F â†’ #A3E635
   Accent    #8B5CF6 (flower/gem)
   Skin      #FFCFAA â†’ #F0B088

ğŸŒ‘ Shadow Knight
   Primary   #6D28D9 â†’ #4C1D95 â†’ #8B5CF6
   Armor     #1E293B â†’ #0F172A â†’ #334155
   Accent    #22D3EE (cyan glow)
   Skin      #E2D5C0 â†’ #C4A882
```

#### Enemies (theo Biome)

```
ğŸ° Dungeon (Room 1-3)
   Slime     #84CC16 base, #4D7C0F shadow, #D9F99D highlight, #1a1a2e outline
   Skeleton  #E8E0D0 bone, #B8A890 shadow, #F5F0E8 highlight, #4A3728 outline
   Bat       #6D28D9 wing, #4C1D95 shadow, #FFD54F eyes

ğŸŒ² Forest (Room 4-6)
   Spider    #1E293B body, #0F172A shadow, #EF4444 eyes, #84CC16 marks
   Mushroom  #DC2626 cap, #991B1B shadow, #FBBF24 spots, #F5F0E8 stem

ğŸŒ‹ Lava (Room 7-9)
   Golem     #B45309 body, #78350F shadow, #F59E0B cracks, #EF4444 core glow
   FireSlime #EF4444 body, #B91C1C shadow, #FDE047 core

ğŸ‘‘ Shadow Throne (Room 10)
   Ghost     #93C5FD body(50% alpha), #3B82F6 core, #E0F2FE glow
   DragonWhelp #DC2626 body, #7F1D1D shadow, #FDE047 belly, #F97316 wings
```

### 3.4 Outline Color Tips

**Äá»«ng dÃ¹ng pure black `#000000`** â€” quÃ¡ harsh cho cartoon style.

```
Warm subjects  (fire, skin)  â†’ Dark brown outline  #3D2314
Cool subjects  (ice, ghost)  â†’ Dark navy outline   #1E293B
Green subjects (nature, slime) â†’ Dark green outline #1A3A1A
Generic        â†’ Soft black    #2D2D3D
```

---

## 4. Ká»¹ thuáº­t váº½ trong Canvas 2D

### 4.1 Smooth Shapes â€” Building Blocks

Cartoon chibi style chá»‰ cáº§n **6 primitive shapes** káº¿t há»£p:

```javascript
// 1. CIRCLE â€” DÃ¹ng cho: Ä‘áº§u, máº¯t, joints, items
ctx.arc(x, y, radius, 0, Math.PI * 2);

// 2. ELLIPSE â€” DÃ¹ng cho: thÃ¢n, shadow, hiá»‡u á»©ng
ctx.ellipse(x, y, rx, ry, 0, 0, Math.PI * 2);

// 3. ROUNDED RECT â€” DÃ¹ng cho: body, limbs, equipment
// XÃ i helper function:
function roundRect(ctx, x, y, w, h, r) {
  ctx.beginPath();
  ctx.moveTo(x + r, y);
  ctx.lineTo(x + w - r, y);
  ctx.quadraticCurveTo(x + w, y, x + w, y + r);
  ctx.lineTo(x + w, y + h - r);
  ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
  ctx.lineTo(x + r, y + h);
  ctx.quadraticCurveTo(x, y + h, x, y + h - r);
  ctx.lineTo(x, y + r);
  ctx.quadraticCurveTo(x, y, x + r, y);
  ctx.closePath();
}

// 4. BEZIER CURVE â€” DÃ¹ng cho: cÃ¡nh, Ä‘uÃ´i, tÃ³c, shape tá»± do
ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, x, y);

// 5. QUADRATIC CURVE â€” DÃ¹ng cho: nÃ©t cong Ä‘Æ¡n giáº£n
ctx.quadraticCurveTo(cpx, cpy, x, y);

// 6. CUSTOM PATH â€” Káº¿t há»£p táº¥t cáº£ cho shape phá»©c táº¡p
ctx.beginPath();
ctx.moveTo(startX, startY);
// ... mix of lineTo, quadraticCurveTo, bezierCurveTo
ctx.closePath();
```

### 4.2 Layering Order (Painter's Algorithm)

Váº½ tá»« sau ra trÆ°á»›c:

```
Layer 1: Shadow/glow (dÆ°á»›i nhÃ¢n váº­t)
Layer 2: Back arm/weapon (cÃ¡nh tay phÃ­a sau)
Layer 3: Body (thÃ¢n)
Layer 4: Head (Ä‘áº§u â€” luÃ´n phÃ­a trÆ°á»›c body)
Layer 5: Front arm/weapon
Layer 6: Face details (máº¯t, miá»‡ng â€” cuá»‘i cÃ¹ng)
Layer 7: Outline pass (náº¿u dÃ¹ng separate outline)
```

### 4.3 Cel-Shading 2-Tone

Ká»¹ thuáº­t Ä‘Æ¡n giáº£n nháº¥t cho cartoon look:

```javascript
function drawCelShadedCircle(ctx, x, y, r, baseColor, shadowColor) {
  // 1. Váº½ base shape
  ctx.beginPath();
  ctx.arc(x, y, r, 0, Math.PI * 2);
  ctx.fillStyle = baseColor;
  ctx.fill();

  // 2. Váº½ shadow (ná»­a dÆ°á»›i hoáº·c 1 bÃªn)
  // DÃ¹ng clip Ä‘á»ƒ shadow khÃ´ng trÃ n ra ngoÃ i
  ctx.save();
  ctx.beginPath();
  ctx.arc(x, y, r, 0, Math.PI * 2);
  ctx.clip();

  // Shadow = ellipse lá»‡ch xuá»‘ng dÆ°á»›i
  ctx.beginPath();
  ctx.ellipse(x, y + r * 0.3, r * 1.1, r * 0.8, 0, 0, Math.PI * 2);
  ctx.fillStyle = shadowColor;
  ctx.fill();
  ctx.restore();

  // 3. Highlight nhá» (optional)
  ctx.beginPath();
  ctx.ellipse(x - r * 0.25, y - r * 0.25, r * 0.3, r * 0.2, -0.5, 0, Math.PI * 2);
  ctx.fillStyle = 'rgba(255,255,255,0.25)';
  ctx.fill();
}
```

### 4.4 Outline Technique

CÃ³ 3 cÃ¡ch táº¡o outline cho cartoon style:

```javascript
// CÃ¡ch 1: STROKE â€” ÄÆ¡n giáº£n nháº¥t
ctx.beginPath();
ctx.arc(x, y, r, 0, Math.PI * 2);
ctx.fillStyle = baseColor;
ctx.fill();
ctx.strokeStyle = outlineColor;
ctx.lineWidth = 3;
ctx.stroke();

// CÃ¡ch 2: DRAW TWICE â€” Outline má»m hÆ¡n
// Váº½ shape lá»›n hÆ¡n 2-3px báº±ng outline color trÆ°á»›c
ctx.beginPath();
ctx.arc(x, y, r + 2, 0, Math.PI * 2);
ctx.fillStyle = outlineColor;
ctx.fill();
// Rá»“i váº½ shape tháº­t báº±ng base color Ä‘Ã¨ lÃªn
ctx.beginPath();
ctx.arc(x, y, r, 0, Math.PI * 2);
ctx.fillStyle = baseColor;
ctx.fill();

// CÃ¡ch 3: SHADOW BLUR â€” Glow outline (tá»‘n performance hÆ¡n)
ctx.shadowColor = outlineColor;
ctx.shadowBlur = 3;
ctx.beginPath();
ctx.arc(x, y, r, 0, Math.PI * 2);
ctx.fillStyle = baseColor;
ctx.fill();
ctx.shadowBlur = 0; // Reset
```

**Khuyáº¿n nghá»‹ cho EduHero**: DÃ¹ng **CÃ¡ch 2 (Draw Twice)** â€” táº¡o outline má»m, smooth, performance tá»‘t, vÃ  giá»¯ vector-like feel.

### 4.5 Gradient cho Depth (dÃ¹ng tiáº¿t kiá»‡m)

Cartoon style dÃ¹ng **Ã­t gradient**, nhÆ°ng vÃ i chá»— chiáº¿n lÆ°á»£c ráº¥t hiá»‡u quáº£:

```javascript
// Radial gradient cho items/orbs/gems
var g = ctx.createRadialGradient(x - r*0.3, y - r*0.3, 0, x, y, r);
g.addColorStop(0, highlightColor);  // SÃ¡ng á»Ÿ gÃ³c trÃªn-trÃ¡i
g.addColorStop(0.6, baseColor);     // Base á»Ÿ giá»¯a
g.addColorStop(1, shadowColor);     // Tá»‘i á»Ÿ rÃ¬a
ctx.fillStyle = g;

// Linear gradient cho metallic surfaces (kiáº¿m, khiÃªn)
var g = ctx.createLinearGradient(x, y, x, y + h);
g.addColorStop(0, highlightColor);
g.addColorStop(0.5, baseColor);
g.addColorStop(1, shadowColor);
```

**Quy táº¯c**: Gradient cho items/gems/effects OK. Character body nÃªn dÃ¹ng flat cel-shade.

---

## 5. Animation Sprites

### 5.1 Frame Count Guidelines

```
IDLE    : 2-4 frames  @ 4 FPS  â†’ Nháº¹ nhÃ ng breathing/bob
WALK    : 4-6 frames  @ 8 FPS  â†’ Bounce walk (lÃªn xuá»‘ng)
ATTACK  : 3-4 frames  @ 10 FPS â†’ Wind-up, strike, recover
DEATH   : 3-4 frames  @ 6 FPS  â†’ Squash, spin, fade
HURT    : 1-2 frames  @ flash  â†’ Tint Ä‘á» + squash Ä‘á»§ rá»“i
SPECIAL : 4-6 frames  @ 8 FPS  â†’ Spell cast, transform
```

### 5.2 Squash & Stretch â€” NguyÃªn táº¯c sá»‘ng cÃ²n

Äiá»u khiáº¿n cartoon animation sá»‘ng Ä‘á»™ng:

```
IDLE frame 1:  Normal proportions
IDLE frame 2:  Squash nháº¹ (scaleX: 1.03, scaleY: 0.97) â† hÃ­t vÃ o
IDLE frame 3:  Stretch nháº¹ (scaleX: 0.97, scaleY: 1.03) â† thá»Ÿ ra

WALK frame 1:  Contact  â†’ Squash (cháº¡m Ä‘áº¥t, nÃ©n xuá»‘ng)
WALK frame 2:  Push off â†’ Normal
WALK frame 3:  Airborne â†’ Stretch lÃªn (nháº¥c khá»i Ä‘áº¥t)
WALK frame 4:  Fall     â†’ Normal

ATTACK frame 1: Wind-up  â†’ Lean back, squash
ATTACK frame 2: Strike   â†’ Stretch forward, smear
ATTACK frame 3: Recovery â†’ Bounce back, overshoot
```

### 5.3 CÃ¡ch váº½ Spritesheet

Má»—i animation = 1 hÃ ng trong spritesheet, má»—i frame cÃ¹ng kÃ­ch thÆ°á»›c:

```
â”Œâ”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”
â”‚idleâ”‚idleâ”‚idleâ”‚idleâ”‚  â† Row 0: IDLE (4 frames)
â”‚ 0  â”‚ 1  â”‚ 2  â”‚ 3  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚walkâ”‚walkâ”‚walkâ”‚walkâ”‚  â† Row 1: WALK (4 frames)
â”‚ 0  â”‚ 1  â”‚ 2  â”‚ 3  â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚ atkâ”‚ atkâ”‚ atkâ”‚    â”‚  â† Row 2: ATTACK (3 frames)
â”‚ 0  â”‚ 1  â”‚ 2  â”‚    â”‚
â”œâ”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”¤
â”‚die â”‚die â”‚die â”‚    â”‚  â† Row 3: DEATH (3 frames)
â”‚ 0  â”‚ 1  â”‚ 2  â”‚    â”‚
â””â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”´â”€â”€â”€â”€â”˜
  128  128  128  128    â† má»—i frame 128Ã—128
```

### 5.4 EduHero Spritesheet Code Pattern

```javascript
function generateSpriteSheet(scene, key, drawFn, params, animDefs, frameSize) {
  var cols = 4; // frames per row
  var rows = animDefs.length;
  var canvas = document.createElement('canvas');
  canvas.width = frameSize * cols;
  canvas.height = frameSize * rows;
  var ctx = canvas.getContext('2d');

  animDefs.forEach(function(anim, row) {
    for (var col = 0; col < anim.frames; col++) {
      ctx.save();
      ctx.translate(col * frameSize, row * frameSize);
      drawFn(ctx, frameSize, params, col, anim.name);
      ctx.restore();
    }
  });

  scene.textures.addSpriteSheet(key, canvas, {
    frameWidth: frameSize, frameHeight: frameSize
  });

  // Register animations
  var frameIndex = 0;
  animDefs.forEach(function(anim) {
    var frames = [];
    for (var i = 0; i < anim.frames; i++) {
      frames.push({ key: key, frame: frameIndex + i });
    }
    scene.anims.create({
      key: key + '_' + anim.name,
      frames: frames,
      frameRate: anim.fps || 6,
      repeat: anim.repeat !== undefined ? anim.repeat : -1,
    });
    frameIndex += anim.frames;
  });
}
```

---

## 6. Thiáº¿t káº¿ tá»«ng loáº¡i Asset

### 6.1 Heroes â€” Cáº¥u trÃºc chung

Táº¥t cáº£ hero dÃ¹ng chung skeleton, khÃ¡c nhau á»Ÿ:
- MÃ u sáº¯c (palette swap)
- Armor shape (vai, mÅ©, giÃ¡p)
- Weapon (kiáº¿m, cung, staff, daggers)
- Accent particles (tuyáº¿t, lá»­a, lÃ¡, khÃ³i)

```javascript
function drawHero(ctx, size, palette, frame, animState) {
  var cx = size / 2, cy = size / 2;
  var headR = size * 0.22;   // Äáº§u to
  var bodyW = size * 0.28;   // ThÃ¢n háº¹p hÆ¡n Ä‘áº§u
  var bodyH = size * 0.18;
  var legH  = size * 0.12;
  var armW  = size * 0.08;

  // Squash/stretch theo animState
  var sx = 1, sy = 1;
  if (animState === 'idle') {
    sy = 1 + Math.sin(frame * Math.PI / 2) * 0.03;
    sx = 1 - Math.sin(frame * Math.PI / 2) * 0.02;
  }

  ctx.save();
  ctx.translate(cx, cy);
  ctx.scale(sx, sy);
  ctx.translate(-cx, -cy);

  // Layer 1: Shadow on ground
  drawShadow(ctx, cx, cy + size * 0.38, size * 0.25);

  // Layer 2: Legs
  drawLegs(ctx, cx, cy + bodyH/2, legH, palette, frame, animState);

  // Layer 3: Body
  drawBody(ctx, cx, cy - size*0.05, bodyW, bodyH, palette);

  // Layer 4: Arms
  drawArms(ctx, cx, cy - size*0.02, armW, palette, frame, animState);

  // Layer 5: Head
  drawHead(ctx, cx, cy - size*0.2, headR, palette);

  // Layer 6: Face
  drawFace(ctx, cx, cy - size*0.2, headR, palette, animState);

  // Layer 7: Weapon
  drawWeapon(ctx, cx, cy, size, palette, frame, animState);

  ctx.restore();
}
```

### 6.2 Enemies â€” Design Principles

Má»—i enemy cáº§n tráº£ lá»i Ä‘Æ°á»£c 3 cÃ¢u:

1. **Silhouette gÃ¬?** â†’ NhÃ¬n shadow Ä‘en biáº¿t ngay (trÃ²n=slime, cÃ¡nh=bat, náº¥m=mushroom)
2. **Danger signal gÃ¬?** â†’ MÃ u/hÃ¬nh cho tháº¥y nguy hiá»ƒm (Ä‘á»=fire, nhá»n=spike, lá»›n=strong)
3. **Behavior gá»£i Ã½ gÃ¬?** â†’ Shape hint cÃ¡ch di chuyá»ƒn (trÃ²n=lÄƒn, cÃ¡nh=bay, chÃ¢n=cháº¡y)

```
SLIME     â†’ Blob trÃ²n, máº¯t Ä‘Æ¡n giáº£n, jelly bounce
            Shape: Circle + squash animation
            Signal: Xanh lÃ¡ (yáº¿u), Ä‘á»/tÃ­m (máº¡nh hÆ¡n)

SKELETON  â†’ Äáº§u lÃ¢u + xÆ°Æ¡ng, giÃ²n nhÆ°ng nhanh
            Shape: Circle head + thin rect limbs
            Signal: Tráº¯ng xÆ°Æ¡ng, vÅ© khÃ­ nhá»

SPIDER    â†’ ThÃ¢n trÃ²n, 4 chÃ¢n (Ä‘Æ¡n giáº£n hoÃ¡ tá»« 8)
            Shape: Ellipse body + arc legs
            Signal: Äen + máº¯t Ä‘á» = creepy

BAT       â†’ CÃ¡nh rá»™ng, thÃ¢n nhá», bay lÆ°á»£n
            Shape: Triangle wings + small circle body
            Signal: TÃ­m + máº¯t vÃ ng phÃ¡t sÃ¡ng

MUSHROOM  â†’ MÅ© náº¥m to, thÃ¢n ngáº¯n, Ä‘á»©ng yÃªn báº¯n
            Shape: Semi-circle cap + small rect stem
            Signal: Äá» + cháº¥m tráº¯ng (poison)

GOLEM     â†’ Khá»‘i lá»›n, cháº­m, máº¡nh
            Shape: Big rounded rect, no neck
            Signal: Cam/nÃ¢u + váº¿t ná»©t phÃ¡t sÃ¡ng

GHOST     â†’ BÃ¡n trong suá»‘t, lÆ¡ lá»­ng
            Shape: Teardrop/flame shape, no legs
            Signal: Xanh nháº¡t + alpha tháº¥p + glow
```

### 6.3 Items & Drops

NguyÃªn táº¯c: **Nháº­n dáº¡ng trong 0.1 giÃ¢y** á»Ÿ kÃ­ch thÆ°á»›c 24px.

```
COIN      â†’ HÃ¬nh trÃ²n vÃ ng, "C" hoáº·c star chÃ­nh giá»¯a
            Palette: #FFD54F base, #F59E0B shadow, #FFF9C4 highlight
            Trick: radial gradient táº¡o depth ngay

GEM       â†’ HÃ¬nh thoi/lá»¥c giÃ¡c, facet highlights
            Palette: Cyan #22D3EE hoáº·c theo biome
            Trick: 2-3 tam giÃ¡c lá»‡ch nhau táº¡o facet

HP POTION â†’ Chai trÃ²n, cháº¥t lá»ng Ä‘á», nÃºt chai
            Palette: #EF4444 liquid, #FCA5A5 highlight, #7F1D1D outline
            Trick: Wave line chia liquid/air trong chai

SHIELD    â†’ HÃ¬nh trÃ²n xanh dÆ°Æ¡ng, viá»n sÃ¡ng
            Palette: #3B82F6 base, #93C5FD glow
            Trick: Alpha glow circle phÃ­a ngoÃ i

MAGNET    â†’ HÃ¬nh U Ä‘á»/xÃ¡m classic
            Palette: #EF4444 + #6B7280
            Trick: ÄÆ¡n giáº£n nháº¥t, ai cÅ©ng nháº­n ra

KEY       â†’ VÃ ng, Ä‘áº§u trÃ²n, rÄƒng vuÃ´ng
            Palette: #FFD54F + #B45309
            Trick: Shape Ä‘áº·c trÆ°ng, dá»… váº½
```

### 6.4 Projectiles

Pháº£i **ná»•i báº­t trÃªn má»i background** vÃ  gá»£i Ã½ thuá»™c tÃ­nh:

```
ICE SHARD     â†’ Tam giÃ¡c dÃ i xanh nháº¡t + trail particles
                Core: #93C5FD, Glow: #DBEAFE @ alpha 0.4
                Äáº·c trÆ°ng: Nhá»n, angular

FIREBALL      â†’ TrÃ²n cam + trail flame
                Core: #FDE047, Mid: #F59E0B, Outer: #EF4444
                Äáº·c trÆ°ng: Radial gradient 3 lá»›p, edge flickering

LEAF BLADE    â†’ Ellipse xanh lÃ¡, xoay (rotate animation)
                Core: #4ADE80, Edge: #15803D
                Äáº·c trÆ°ng: Spin rotation per frame

DARK ORB      â†’ TrÃ²n tÃ­m, pulse glow
                Core: #7C3AED, Glow: #A78BFA @ alpha 0.3
                Äáº·c trÆ°ng: Size oscillation

POISON BOLT   â†’ TrÃ²n xanh lÃ¡ Ä‘áº­m, drip effect
                Core: #84CC16, Glow: #D9F99D
                Äáº·c trÆ°ng: Trailing droplets
```

### 6.5 Environment Tiles

#### Floor Tiles (64Ã—64)

```
DUNGEON    â†’ Stone gray, mortar lines, subtle cracks
             Base: #2A2E3A, Line: #1E2130, Variation: random crack decals

FOREST     â†’ Dirt brown with grass tufts
             Base: #5D4E37, Grass: #4ADE80 small arcs, Variation: leaf spots

LAVA       â†’ Dark obsidian with glowing cracks
             Base: #1C1917, Cracks: #EF4444 with glow, Variation: ember spots

SHADOW     â†’ Dark purple crystal
             Base: #1E1338, Veins: #7C3AED @ alpha 0.2, Variation: shimmer
```

#### Wall Tiles (64Ã—48)

```
DUNGEON    â†’ Brick pattern, moss patches
FOREST     â†’ Root/vine tangle, bark texture
LAVA       â†’ Basalt columns, lava seams
SHADOW     â†’ Crystal formation, runic marks
```

### 6.6 Obstacles

```
PILLAR     â†’ 48Ã—48, stone column, top cap
             Blocks movement & projectiles
             Váº½: Rounded rect + ellipse cap + shadow

BARREL     â†’ 48Ã—48, wooden slats, metal bands
             Destructible, 2-3 hits, drops loot
             Váº½: Ellipse top + rect body + horizontal lines

SPIKE TRAP â†’ 48Ã—48, metallic points on stone base
             Damage zone, blinks before activating
             Váº½: Triangle points + rect base + warning glow

FOUNTAIN   â†’ 48Ã—64, stone basin, blue water glow
             Heal station, 1 use per room
             Váº½: Trapezoid basin + ellipse water + particle sparkle

CRATE      â†’ 48Ã—48, wooden box, "X" nails
             Pushable, blocks movement
             Váº½: Rounded rect + cross lines + shadow
```

### 6.7 Decorations (Non-interactive)

```
TORCH      â†’ Wall mount, animated flame (3 frames)
             Orange glow circle underneath
             Placement: On walls, every 3-4 tiles

MUSHROOM   â†’ Small glowing mushroom cluster
(ambient)    Green/blue glow, 2 sizes mixed
             Placement: Floor corners, near walls

BONES      â†’ Scattered skull + femur
             White-gray, random rotation
             Placement: Floor, sparse

CRYSTAL    â†’ Growing crystal formation
             Purple/blue, alpha shimmer
             Placement: Walls and corners

LAVA POOL  â†’ Small bubbling lava puddle
             Orange-red, bubble animation
             Placement: Floor (lava biome only)

COBWEB     â†’ Corner web, gray-white
             Static, alpha 0.3-0.5
             Placement: Wall-wall corners
```

---

## 7. Váº½ trong Canvas â€” Pattern Templates

### 7.1 Template: Simple Enemy (Slime)

```javascript
function drawSlime(ctx, size, palette, frame, anim) {
  var cx = size / 2, cy = size / 2;
  var r = size * 0.32;
  var outline = '#1a3a1a';
  var base = '#84CC16';
  var shadow = '#4D7C0F';
  var highlight = '#D9F99D';
  var eyeColor = '#1a1a2e';

  // Squash/stretch
  var squash = 1 + Math.sin(frame * Math.PI / 2) * 0.08;
  var stretch = 1 - Math.sin(frame * Math.PI / 2) * 0.05;

  ctx.save();
  ctx.translate(cx, cy + r * 0.2); // anchor bottom

  // Ground shadow
  ctx.beginPath();
  ctx.ellipse(0, r * 0.9, r * 0.7 * squash, r * 0.15, 0, 0, Math.PI * 2);
  ctx.fillStyle = 'rgba(0,0,0,0.2)';
  ctx.fill();

  // Body outline (draw bigger first)
  ctx.beginPath();
  ctx.ellipse(0, 0, r * squash + 2, r * stretch + 2, 0, 0, Math.PI * 2);
  ctx.fillStyle = outline;
  ctx.fill();

  // Body base
  ctx.beginPath();
  ctx.ellipse(0, 0, r * squash, r * stretch, 0, 0, Math.PI * 2);
  ctx.fillStyle = base;
  ctx.fill();

  // Shadow (lower half)
  ctx.save();
  ctx.beginPath();
  ctx.ellipse(0, 0, r * squash, r * stretch, 0, 0, Math.PI * 2);
  ctx.clip();
  ctx.beginPath();
  ctx.ellipse(0, r * 0.3, r * squash * 1.1, r * stretch * 0.7, 0, 0, Math.PI * 2);
  ctx.fillStyle = shadow;
  ctx.fill();
  ctx.restore();

  // Highlight
  ctx.beginPath();
  ctx.ellipse(-r * 0.2, -r * 0.3, r * 0.25, r * 0.15, -0.3, 0, Math.PI * 2);
  ctx.fillStyle = 'rgba(255,255,255,0.3)';
  ctx.fill();

  // Eyes
  var eyeSpacing = r * 0.25;
  var eyeY = -r * 0.1;
  var eyeR = r * 0.12;
  // Left eye
  ctx.beginPath();
  ctx.arc(-eyeSpacing, eyeY, eyeR, 0, Math.PI * 2);
  ctx.fillStyle = eyeColor;
  ctx.fill();
  // Right eye
  ctx.beginPath();
  ctx.arc(eyeSpacing, eyeY, eyeR, 0, Math.PI * 2);
  ctx.fillStyle = eyeColor;
  ctx.fill();
  // Eye highlights
  ctx.beginPath();
  ctx.arc(-eyeSpacing + 2, eyeY - 2, eyeR * 0.4, 0, Math.PI * 2);
  ctx.fillStyle = '#ffffff';
  ctx.fill();
  ctx.beginPath();
  ctx.arc(eyeSpacing + 2, eyeY - 2, eyeR * 0.4, 0, Math.PI * 2);
  ctx.fillStyle = '#ffffff';
  ctx.fill();

  // Mouth
  ctx.beginPath();
  ctx.arc(0, r * 0.15, r * 0.12, 0.1, Math.PI - 0.1);
  ctx.strokeStyle = outline;
  ctx.lineWidth = 1.5;
  ctx.stroke();

  ctx.restore();
}
```

### 7.2 Template: Item (Gem)

```javascript
function drawGem(ctx, size) {
  var cx = size / 2, cy = size / 2;
  var s = size * 0.35;

  // Glow behind
  ctx.beginPath();
  ctx.arc(cx, cy, s * 1.2, 0, Math.PI * 2);
  ctx.fillStyle = 'rgba(34,211,238,0.15)';
  ctx.fill();

  // Diamond shape with facets
  ctx.beginPath();
  ctx.moveTo(cx, cy - s);       // Top
  ctx.lineTo(cx + s * 0.7, cy); // Right
  ctx.lineTo(cx, cy + s);       // Bottom
  ctx.lineTo(cx - s * 0.7, cy); // Left
  ctx.closePath();

  // Outline
  ctx.fillStyle = '#0E7490';
  ctx.fill();

  // Inner facet (lighter)
  ctx.beginPath();
  ctx.moveTo(cx, cy - s + 3);
  ctx.lineTo(cx + s * 0.7 - 3, cy);
  ctx.lineTo(cx, cy + s - 3);
  ctx.lineTo(cx - s * 0.7 + 3, cy);
  ctx.closePath();
  ctx.fillStyle = '#22D3EE';
  ctx.fill();

  // Highlight facet (top-left triangle)
  ctx.beginPath();
  ctx.moveTo(cx, cy - s + 4);
  ctx.lineTo(cx - s * 0.7 + 4, cy);
  ctx.lineTo(cx, cy);
  ctx.closePath();
  ctx.fillStyle = '#67E8F9';
  ctx.fill();

  // Sparkle
  ctx.beginPath();
  ctx.arc(cx - s * 0.15, cy - s * 0.3, 2, 0, Math.PI * 2);
  ctx.fillStyle = '#ffffff';
  ctx.fill();
}
```

### 7.3 Template: Environment Tile

```javascript
function drawDungeonFloor(ctx, size) {
  // Base stone color
  ctx.fillStyle = '#2A2E3A';
  ctx.fillRect(0, 0, size, size);

  // Stone pattern (2Ã—2 blocks with mortar lines)
  ctx.strokeStyle = '#1E2130';
  ctx.lineWidth = 1;
  var half = size / 2;

  // Horizontal mortar
  ctx.beginPath();
  ctx.moveTo(0, half);
  ctx.lineTo(size, half);
  ctx.stroke();

  // Vertical mortar (offset per row for brick pattern)
  ctx.beginPath();
  ctx.moveTo(half, 0);
  ctx.lineTo(half, half);
  ctx.moveTo(0, half);
  ctx.moveTo(size * 0.25, half);
  ctx.lineTo(size * 0.25, size);
  ctx.moveTo(size * 0.75, half);
  ctx.lineTo(size * 0.75, size);
  ctx.stroke();

  // Random subtle crack (30% chance)
  if (Math.random() < 0.3) {
    ctx.strokeStyle = 'rgba(0,0,0,0.15)';
    ctx.lineWidth = 0.5;
    ctx.beginPath();
    var sx = Math.random() * size, sy = Math.random() * size;
    ctx.moveTo(sx, sy);
    ctx.lineTo(sx + (Math.random() - 0.5) * 20, sy + Math.random() * 15);
    ctx.lineTo(sx + (Math.random() - 0.5) * 25, sy + Math.random() * 25);
    ctx.stroke();
  }

  // Random moss patch (20% chance)
  if (Math.random() < 0.2) {
    ctx.fillStyle = 'rgba(74,222,128,0.08)';
    ctx.beginPath();
    ctx.arc(Math.random() * size, Math.random() * size, 4 + Math.random() * 6, 0, Math.PI * 2);
    ctx.fill();
  }
}
```

---

## 8. Performance & Optimization

### 8.1 Spritesheet lÃ  King

```
âŒ Váº½ real-time má»—i frame      â†’ 60 draw calls/sec/entity
âœ… Pre-render vÃ o spritesheet   â†’ 1 draw call/sec/entity (GPU cached)
```

LuÃ´n váº½ vÃ o canvas offline â†’ addSpriteSheet â†’ dÃ¹ng sprite. **KhÃ´ng bao giá»** váº½ Canvas2D trá»±c tiáº¿p trong game loop.

### 8.2 Atlas Packing

Gom táº¥t cáº£ small textures vÃ o 1 atlas lá»›n giáº£m GPU texture switches:

```javascript
// Thay vÃ¬ 20 textures nhá» riÃªng láº»:
scene.textures.addImage('coin', coinCanvas);
scene.textures.addImage('gem', gemCanvas);
// ...

// Gom vÃ o 1 atlas:
var atlas = document.createElement('canvas');
atlas.width = 512; atlas.height = 512;
var ctx = atlas.getContext('2d');
// Váº½ táº¥t cáº£ items vÃ o atlas á»Ÿ cÃ¡c vá»‹ trÃ­ khÃ¡c nhau
// Rá»“i dÃ¹ng atlas + frame coordinates
```

### 8.3 Mipmap Mental Model

Váº½ á»Ÿ **2Ã— display size** rá»“i let Phaser scale down:
- Canvas 128Ã—128 â†’ display 64Ã—64 = sharp, smooth edges
- Äáº·c biá»‡t quan trá»ng cho cartoon style vÃ¬ Ä‘Æ°á»ng cong cáº§n anti-aliasing

### 8.4 Color Tint cho Variants

Thay vÃ¬ váº½ 5 loáº¡i slime khÃ¡c nhau, váº½ 1 láº§n rá»“i tint:

```javascript
// 1 spritesheet gá»‘c "slime_green"
// Runtime:
enemy.setTint(0xff4444); // Red slime
enemy.setTint(0x8b5cf6); // Purple slime
enemy.setTint(0x3b82f6); // Blue slime
```

Tiáº¿t kiá»‡m asset nhÆ°ng váº«n diverse. Káº¿t há»£p vá»›i size scaling cho boss variants.

---

## 9. Checklist cho EduHero Assets

### Phase 1 â€” Core (Äang cÃ³, cáº§n nÃ¢ng cáº¥p)

- [ ] Hero 4 skins: ThÃªm cel-shade shadow layer
- [ ] Hero projectile: 4 variants match hero color
- [ ] Slime: ThÃªm squash/stretch animation mÆ°á»£t hÆ¡n
- [ ] Bat: ThÃªm wing flap animation
- [ ] Mushroom: ThÃªm spore puff khi shoot

### Phase 2 â€” Biomes (Impact cao nháº¥t)

- [ ] 4 bá»™ floor tile (dungeon/forest/lava/shadow)
- [ ] 4 bá»™ wall tile matching
- [ ] Biome decorations (torch, mushroom glow, lava pool, crystal)
- [ ] Biome transition effect (room flash + color shift)

### Phase 3 â€” Enemy Expansion

- [ ] Skeleton: Walk + attack anim, bone throw projectile
- [ ] Spider: Crawl anim, web slow projectile
- [ ] Golem: Slow walk, ground slam AoE visual
- [ ] Ghost: Float + phase anim, transparency
- [ ] Dragon Whelp: Fly + fire breath cone

### Phase 4 â€” Items & Obstacles

- [ ] 3 obstacles: Pillar, Barrel (destructible), Spike Trap
- [ ] 3 new drops: Magnet, Shield Orb, Speed Boots
- [ ] Healing Fountain (room furniture)
- [ ] Treasure Chest (bonus loot, locked/unlocked state)

### Phase 5 â€” Polish

- [ ] Death animations cho má»—i enemy (squash, dissolve, explode)
- [ ] Upgrade icons (13 upgrades Ã— 32Ã—32 icon má»—i cÃ¡i)
- [ ] UI elements: Button states, panel backgrounds
- [ ] Victory/defeat screen art

---

## 10. Tools & Resources

### Váº½ & Design

| Tool | DÃ¹ng cho | Free? |
|---|---|---|
| **Figma** | Vector design, palette test | âœ… Free tier |
| **Aseprite** | Sprite animation preview | ğŸ’° $20 |
| **Piskel** | Quick sprite test | âœ… Free |
| **Lospec Palette** | TÃ¬m palette Ä‘áº¹p | âœ… Free |
| **Coolors.co** | Generate color schemes | âœ… Free |
| **ShaderToy** | Test glow/particle effects | âœ… Free |

### Color Palette Resources

- **Lospec**: lospec.com/palette-list â€” filter "16 colors", "warm", "fantasy"
- **Color Hunt**: colorhunt.co â€” curated 4-color palettes
- **Coolors**: coolors.co â€” random generator, lock colors you like
- **Adobe Color**: color.adobe.com â€” color wheel, harmony rules

### Reference Art

- Search: "chibi game sprites", "cute RPG characters", "mobile game art style"
- ArtStation: filter "stylized", "mobile game", "2D"
- Pinterest boards: "cute game art", "chibi character design"

---

*TÃ i liá»‡u nÃ y lÃ  style guide cho dá»± Ã¡n EduHero â€” Cartoon Chibi Vector 2D.*
*Cáº­p nháº­t theo tiáº¿n Ä‘á»™ Sprint.*
